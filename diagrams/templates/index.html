<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagram Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        body {
            background-color: #f0f4f8;
            @apply font-sans;
        }
        .select-arrow {
            background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%236B7280'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.5rem center;
            background-size: 1.5em;
            padding-right: 2.5rem;
        }
        .mermaid {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<header class="flex justify-between items-center p-4 bg-gray-100 shadow-md">
    <a href="{% url 'dashboard' %}" class="text-xl font-bold text-gray-800">My Diagram Studio</a>
    
    <div class="flex items-center space-x-4">
        <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
        </svg>
        <span class="text-gray-700">Hello, {{ user.username }}!</span>
        
        <form action="{% url 'logout' %}" method="post" style="display: inline;">
            {% csrf_token %}
            <button type="submit" class="px-4 py-2 bg-purple-600 text-white rounded-lg shadow hover:bg-purple-700 transition-colors">Logout</button>
        </form>
    </div>
</header>
<body class="flex flex-col min-h-screen">
    <div class="flex-1 flex flex-col overflow-hidden p-6 md:p-8">
        
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6">
            <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex items-center space-x-4">
                <div class="bg-purple-100 p-3 rounded-lg"><svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div>
                <div><p class="text-2xl font-bold text-gray-800">156</p><p class="text-sm text-gray-500">Total Diagrams</p></div>
            </div>
            <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex items-center space-x-4">
                <div class="bg-blue-100 p-3 rounded-lg"><svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg></div>
                <div><p class="text-2xl font-bold text-gray-800">12,543</p><p class="text-sm text-gray-500">Total Views</p></div>
            </div>
            <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex items-center space-x-4">
                <div class="bg-red-100 p-3 rounded-lg"><svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg></div>
                <div><p class="text-2xl font-bold text-gray-800">324</p><p class="text-sm text-gray-500">Total Likes</p></div>
            </div>
            <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex items-center space-x-4">
                <div class="bg-green-100 p-3 rounded-lg"><svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.124-1.282-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.124-1.282.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></div>
                <div><p class="text-2xl font-bold text-gray-800">23</p><p class="text-sm text-gray-500">My Diagrams</p></div>
            </div>
            <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex items-center space-x-4">
                <div class="bg-indigo-100 p-3 rounded-lg"><svg class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.368a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path></svg></div>
                <div><p class="text-2xl font-bold text-gray-800">45</p><p class="text-sm text-gray-500">Shared with Me</p></div>
            </div>
            <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex items-center space-x-4">
                <div class="bg-orange-100 p-3 rounded-lg"><svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2h8a2 2 0 002-2v-1a2 2 0 012-2h1.945M7.737 11a15.247 15.247 0 016.526 0M12 17.5v8.5a2.5 2.5 0 01-5 0V17.5m5 0v8.5a2.5 2.5 0 005 0V17.5m0-13.498L17.5 4M12 4.002L6.5 4M12 4.002V11m0-6.998a15.247 15.247 0 016.526 0M12 4.002a15.247 15.247 0 00-6.526 0"></path></svg></div>
                <div><p class="text-2xl font-bold text-gray-800">88</p><p class="text-sm text-gray-500">Public Access</p></div>
            </div>
        </div>

        <main class="flex-1 flex flex-col overflow-auto">
             <div class="flex-shrink-0 flex space-x-2 border-b-2 border-gray-200 mb-6">
                <button id="gallery-tab-btn" class="py-2 px-6 text-gray-600 border-b-2 border-transparent hover:text-gray-800 hover:border-purple-500 transition-colors flex items-center" onclick="showMainTab('gallery')">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>
                    Gallery
                </button>
                <button id="editor-tab-btn" class="py-2 px-6 text-gray-600 border-b-2 border-transparent hover:text-gray-800 hover:border-purple-500 transition-colors flex items-center" onclick="showMainTab('editor')">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
                    Editor
                </button>
                <button id="analytics-tab-btn" class="py-2 px-6 text-gray-600 border-b-2 border-transparent hover:text-gray-800 hover:border-purple-500 transition-colors flex items-center" onclick="showMainTab('analytics')">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
                    Analytics
                </button>
            </div>
            
            <div id="gallery-content" class="flex-1 hidden bg-white rounded-xl border border-gray-200 shadow-sm p-6">
                <div>
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                        <div>
                            <h2 class="text-xl font-bold text-gray-800">Diagram Gallery</h2>
                            <p class="text-gray-500 text-sm mt-1">Browse and discover diagrams across your organization</p>
                        </div>
                    </div>

                <div class="flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 p-3 bg-gray-50 rounded-lg border border-gray-200 mb-6">
    <div class="relative w-full sm:w-1/2">
        <svg class="w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
        <input type="text" class="w-full pl-10 pr-4 py-2 rounded-md border-gray-300 focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50" placeholder="Search diagrams, tags, or creators...">
    </div>
    <div class="flex items-center space-x-2">
        <select class="select-arrow rounded-md border-gray-300 shadow-sm p-2 bg-white appearance-none min-w-[13rem]">
            <option>All Types</option>
            <option>Class</option>
            <option>ER Diagram</option>
            <option>Flowchart</option>
            <option>Sequence</option>
            <option>Gantt</option>
        </select>
        <select class="select-arrow rounded-md border-gray-300 shadow-sm p-2 bg-white appearance-none min-w-[13rem]">
            <option>All Access</option>
            <option>Private</option>
            <option>Group</option>
            <option>Vertical</option>
            <option>Company</option>
        </select>
        <select class="select-arrow rounded-md border-gray-300 shadow-sm p-2 bg-white appearance-none min-w-[13rem]">
            <option>Most Recent</option>
            <option>Most Viewed</option>
            <option>Most Liked</option>
        </select>
        <div class="flex items-center bg-gray-200 rounded-md p-1">
            <button class="p-1 rounded text-gray-700 bg-white shadow"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg></button>
            <button class="p-1 text-gray-500"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"></path></svg></button>
        </div>
    </div>
</div>

                    <div class="flex justify-between items-center text-sm text-gray-500 mb-4 px-1">
                        <p>Showing 4 of 4 diagrams</p>
                        <p>793 total views | 44 likes</p>
                    </div>

                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="bg-white rounded-lg border border-gray-200 p-4 flex flex-col justify-between space-y-3 hover:shadow-lg transition-shadow">
                            <div class="flex justify-between items-start">
                                <h3 class="font-semibold text-gray-800">Product Development Timeline</h3>
                                <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full font-medium">Group</span>
                            </div>
                            <p class="text-sm text-gray-500 flex-grow">Q1-Q4 product roadmap and milestones</p>
                            <div class="flex flex-wrap"><span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded-full mr-2 mb-2">roadmap</span><span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded-full mr-2 mb-2">timeline</span><span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded-full mb-2">planning</span></div>
                            <div class="border-t border-gray-200 pt-3 flex justify-between items-center text-sm text-gray-500">
                                <div class="flex items-center"><div class="w-6 h-6 bg-red-200 text-red-700 rounded-full flex items-center justify-center font-bold text-xs mr-2">SM</div><span>Sanket Mengal</span></div>
                                <div class="flex items-center space-x-3"><div class="flex items-center space-x-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"></path></svg><span>203</span></div><div class="flex items-center space-x-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path></svg><span>9</span></div></div>
                            </div>
                            <div class="text-xs text-gray-400 flex justify-between"><span>Jan 17, 2024</span><span>v3</span></div>
                        </div>
                        <div class="bg-white rounded-lg border border-gray-200 p-4 flex flex-col justify-between space-y-3 hover:shadow-lg transition-shadow">
                            <div class="flex justify-between items-start">
                                <h3 class="font-semibold text-gray-800">Hospital Management ER Model</h3>
                                <span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full font-medium">Vertical</span>
                            </div>
                            <p class="text-sm text-gray-500 flex-grow">Database design for hospital management system</p>
                            <div class="flex flex-wrap"><span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded-full mr-2 mb-2">database</span><span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded-full mr-2 mb-2">healthcare</span><span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded-full mb-2">hospital</span></div>
                            <div class="border-t border-gray-200 pt-3 flex justify-between items-center text-sm text-gray-500">
                               <div class="flex items-center"><div class="w-6 h-6 bg-yellow-200 text-yellow-700 rounded-full flex items-center justify-center font-bold text-xs mr-2">SW</div><span>Suraj walve</span></div>
                               <div class="flex items-center space-x-3"><div class="flex items-center space-x-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"></path></svg><span>189</span></div><div class="flex items-center space-x-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path></svg><span>8</span></div></div>
                            </div>
                            <div class="text-xs text-gray-400 flex justify-between"><span>Jan 16, 2024</span><span>v2</span></div>
                        </div>
                        <div class="bg-white rounded-lg border border-gray-200 p-4 flex flex-col justify-between space-y-3 hover:shadow-lg transition-shadow">
                            <div class="flex justify-between items-start">
                                <h3 class="font-semibold text-gray-800">User Authentication Flow</h3>
                                <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full font-medium">Company-wide</span>
                            </div>
                            <p class="text-sm text-gray-500 flex-grow">Complete user authentication and authorization sequence</p>
                            <div class="flex flex-wrap"><span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded-full mr-2 mb-2">authentication</span><span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded-full mr-2 mb-2">security</span><span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded-full mb-2">api</span></div>
                            <div class="border-t border-gray-200 pt-3 flex justify-between items-center text-sm text-gray-500">
                                <div class="flex items-center"><div class="w-6 h-6 bg-red-200 text-red-700 rounded-full flex items-center justify-center font-bold text-xs mr-2">VS</div><span>Vinayak S</span></div>
                                <div class="flex items-center space-x-3"><div class="flex items-center space-x-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"></path></svg><span>245</span></div><div class="flex items-center space-x-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path></svg><span>12</span></div></div>
                            </div>
                            <div class="text-xs text-gray-400 flex justify-between"><span>Jan 15, 2024</span><span>v1</span></div>
                        </div>
                        <div class="bg-white rounded-lg border border-gray-200 p-4 flex flex-col justify-between space-y-3 hover:shadow-lg transition-shadow">
                            <div class="flex justify-between items-start">
                                <h3 class="font-semibold text-gray-800">Billing Process Workflow</h3>
                                <span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full font-medium">Vertical</span>
                            </div>
                            <p class="text-sm text-gray-500 flex-grow">Step-by-step billing and payment processing workflow</p>
                            <div class="flex flex-wrap"><span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded-full mr-2 mb-2">billing</span><span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded-full mr-2 mb-2">workflow</span><span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded-full mb-2">finance</span></div>
                            <div class="border-t border-gray-200 pt-3 flex justify-between items-center text-sm text-gray-500">
                                <div class="flex items-center"><div class="w-6 h-6 bg-green-200 text-green-700 rounded-full flex items-center justify-center font-bold text-xs mr-2">RK</div><span>Rajesh Kumar</span></div>
                                <div class="flex items-center space-x-3"><div class="flex items-center space-x-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"></path></svg><span>156</span></div><div class="flex items-center space-x-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path></svg><span>15</span></div></div>
                            </div>
                            <div class="text-xs text-gray-400 flex justify-between"><span>Jan 13, 2024</span><span>v1</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="editor-content" class="flex-1 flex-col hidden">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-800">Diagram Studio</h1>
                        <p class="text-gray-500 mt-1">Create professional diagrams with international standards</p>
                    </div>
                    <div class="flex items-center space-x-2">
                         <button class="px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31 1.05 2.804 2.401-.527 1.353.468 2.651 1.84 2.973.844.17.97.712.97 1.076a4.5 4.5 0 01-1.84 3.037c-1.372.322-2.366 1.62-1.84 2.973.506 1.351-1.261 2.94-2.804 2.401a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-1.05-2.804-2.401.527-1.353-.468-2.651-1.84-2.973-.844-.17-.97-.712-.97-1.076a4.5 4.5 0 011.84-3.037c1.372-.322 2.366-1.62 1.84-2.973-.506-1.351 1.261-2.94 2.804-2.401a1.724 1.724 0 002.573-1.066zM15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                            <span>Settings</span>
                        </button>
                        <button class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors">Save Diagram</button>
                    </div>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-1 bg-white rounded-xl border border-gray-200 shadow-sm p-6 space-y-6">
                        <h2 class="text-lg font-semibold text-gray-800">Configuration</h2>
                        <div class="space-y-4">
                            <label class="block"><span class="text-gray-700 font-medium">Title <span class="text-red-500">*</span></span>
                                <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50" placeholder="Enter diagram title">
                            </label>
                             <label class="block"><span class="text-gray-700 font-medium">Description</span>
                                <textarea class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50" rows="3" placeholder="Brief description of the diagram"></textarea>
                            </label>
                            <div>
                                <label for="diagram-type" class="text-gray-700 font-medium">Diagram Type</label>
                                <select id="diagram-type" class="select-arrow mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 appearance-none">
                                    <option value="flowchart">Flowchart</option>
                                    <option value="classDiagram">Class Diagram</option>
                                    <option value="erDiagram">ER Diagram</option>
                                    <option value="sequenceDiagram">Sequence Diagram</option>
                                    <option value="ganttChart">Gantt Chart</option>
                                    <option value="pieChart">Pie Chart</option>
                                    <option value="mindMap">Mind Map</option>
                                    <option value="timeline">Timeline</option>
                                    <option value="gitGraph">Git Graph</option>
                                    <option value="userJourney">User Journey</option>
                                </select>
                            </div>
                            <div>
                                <label for="visibility-level" class="text-gray-700 font-medium">Access & Privacy</label>
                                <select id="visibility-level" class="select-arrow mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 appearance-none">
                                    <option value="private">Private</option>
                                    <option value="group">Group</option>
                                    <option value="vertical">Vertical</option>
                                    <option value="company-wide">Company-wide</option>
                                </select>
                                <p class="text-xs text-gray-500 mt-2">Only visible to you</p>
                            </div>
                        </div>
                    </div>
                    <div class="lg:col-span-2 bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col">
                        <div class="p-4 border-b border-gray-200 flex justify-between items-center">
                            <h2 class="text-lg font-semibold text-gray-800 flex items-center">
                                <svg class="w-6 h-6 mr-2 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                                Diagram Workspace
                            </h2>
                            <div class="flex space-x-2">
                                <button class="p-2 text-gray-600 hover:bg-gray-100 rounded-md"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.368a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path></svg></button>
                                <button class="p-2 text-gray-600 hover:bg-gray-100 rounded-md"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path></svg></button>
                            </div>
                        </div>
                        <div class="flex-1 flex flex-col">
                            <div class="flex border-b border-gray-200 bg-gray-50/50 rounded-t-lg">
                                <button id="editor-sub-tab-btn" class="py-2 px-6 text-gray-600 border-b-2 border-transparent hover:bg-gray-200" onclick="showSubTab('editor')">Editor</button>
                                <button id="preview-sub-tab-btn" class="py-2 px-6 text-gray-600 border-b-2 border-transparent hover:bg-gray-200" onclick="showSubTab('preview')">Preview</button>
                            </div>
                            <div id="editor-sub-content" class="flex-1 p-4 flex flex-col space-y-4">
                                <div class="flex justify-between items-center">
                                    <h3 class="text-sm font-semibold text-gray-600">Mermaid Syntax</h3>
                                    <div class="flex space-x-2">
                                        <button onclick="renderDiagram()" class="px-3 py-1 text-sm bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300">Render</button>
                                        <button class="px-3 py-1 text-sm bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300">Copy</button>
                                    </div>
                                </div>
                                <textarea id="mermaid-input" class="flex-1 w-full p-4 rounded-md border-gray-300 bg-gray-50 resize-none text-sm font-mono focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50" rows="12">flowchart TD
    A[Start Process] --> B{Decision Point}
    B -->|Yes| C[Execute Action A]
    B -->|No| D[Execute Action B]
    C --> E[Process Result]
    D --> E
    E --> F{Another Decision?}
    F -->|Continue| G[Next Step]
    F -->|Complete| H[End Process]
    G --> A</textarea>
                                <div class="p-3 bg-yellow-50 text-yellow-800 rounded-md flex items-start space-x-2 text-sm">
                                    <svg class="w-5 h-5 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2h.01a1 1 0 000-2H9zm-1 4a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
                                    <span>Tip: Use Mermaid syntax to create your diagram</span>
                                </div>
                            </div>

                            <div id="preview-sub-content" class="flex-1 p-4 flex-col hidden">
                                <div id="diagram-container" class="flex-1 w-full bg-white rounded-md overflow-auto p-4">
                                    <div class="mermaid text-center text-gray-500">
                                        Click "Render" to see your diagram.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

          <div id="analytics-content" class="flex-1 hidden bg-white rounded-xl border border-gray-200 shadow-sm p-6">
    <div class="flex justify-between items-center mb-6">
        <h2 class="text-xl font-bold text-gray-800">Usage Analytics</h2>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="bg-gray-50 p-6 rounded-md shadow-sm">
            <h3 class="text-lg font-semibold text-gray-700">Top Diagram Types</h3>
            <ul class="list-disc list-inside mt-2 text-gray-600">
                <li>Flowcharts (34%)</li>
                <li>Mind Maps (28%)</li>
                <li>ER Diagrams (18%)</li>
            </ul>
        </div>
        <div class="bg-gray-50 p-6 rounded-md shadow-sm">
            <h3 class="text-lg font-semibold text-gray-700">Key Metrics</h3>
            <ul class="list-disc list-inside mt-2 text-gray-600">
                <li>Avg. Views per Diagram: 88.4</li>
                <li>Collaboration Rate: 65%</li>
            </ul>
        </div>
        <div class="bg-gray-50 p-6 rounded-md shadow-sm">
            <h3 class="text-lg font-semibold text-gray-700">Recent Activity</h3>
            <ul class="list-disc list-inside mt-2 text-gray-600">
                <li>Rajesh K. created "Sales Funnel" 2 hours ago</li>
                <li>Sarah J. shared "Team Structure" with you 4 hours ago</li>
                <li>Mark T. commented on "Database Schema" yesterday</li>
            </ul>
        </div>
        <div class="bg-gray-50 p-6 rounded-md shadow-sm">
            <h3 class="text-lg font-semibold text-gray-700">Access Level Distribution</h3>
            <div class="grid grid-cols-2 gap-4 mt-4 text-center">
                <div class="p-4 bg-purple-100 rounded-md">
                    <div class="text-2xl font-bold text-purple-800">28</div>
                    <div class="text-sm text-gray-600">Private</div>
                    <div class="text-xs text-gray-500">18% of total</div>
                </div>
                <div class="p-4 bg-blue-100 rounded-md">
                    <div class="text-2xl font-bold text-blue-800">45</div>
                    <div class="text-sm text-gray-600">Group</div>
                    <div class="text-xs text-gray-500">29% of total</div>
                </div>
                <div class="p-4 bg-green-100 rounded-md">
                    <div class="text-2xl font-bold text-green-800">62</div>
                    <div class="text-sm text-gray-600">Vertical</div>
                    <div class="text-xs text-gray-500">40% of total</div>
                </div>
                <div class="p-4 bg-yellow-100 rounded-md">
                    <div class="text-2xl font-bold text-yellow-800">21</div>
                    <div class="text-sm text-gray-600">Company-wide</div>
                    <div class="text-xs text-gray-500">13% of total</div>
                </div>
            </div>
        </div>
    </div>
</div>
        </main>
    </div>

    <script>
        mermaid.initialize({ startOnLoad: false });

        function showMainTab(tabName) {
            const mainTabs = ['gallery', 'editor', 'analytics'];
            mainTabs.forEach(tab => {
                const btn = document.getElementById(tab + '-tab-btn');
                const content = document.getElementById(tab + '-content');
                if (tab === tabName) {
                    btn.classList.add('border-purple-500', 'text-purple-600', 'font-semibold');
                    btn.classList.remove('border-transparent', 'text-gray-600');
                    content.classList.remove('hidden');
                    content.classList.add('flex');
                } else {
                    btn.classList.add('border-transparent', 'text-gray-600');
                    btn.classList.remove('border-purple-500', 'text-purple-600', 'font-semibold');
                    content.classList.add('hidden');
                    content.classList.remove('flex');
                }
            });
            if (tabName === 'editor') {
                showSubTab('editor');
            }
        }

        function showSubTab(tabName) {
            const subTabs = ['editor', 'preview'];
            subTabs.forEach(tab => {
                const btn = document.getElementById(tab + '-sub-tab-btn');
                const content = document.getElementById(tab + '-sub-content');
                if (btn && content) {
                    if (tab === tabName) {
                        btn.classList.add('bg-white', 'text-purple-600', 'font-semibold');
                        content.classList.remove('hidden');
                        content.classList.add('flex');
                    } else {
                        btn.classList.remove('bg-white', 'text-purple-600', 'font-semibold');
                        content.classList.add('hidden');
                        content.classList.remove('flex');
                    }
                }
            });
            if (tabName === 'preview') {
                renderDiagram();
            }
        }

        async function renderDiagram() {
            const mermaidInput = document.getElementById('mermaid-input').value;
            const diagramContainer = document.getElementById('diagram-container');
            const mermaidDiv = diagramContainer.querySelector('.mermaid');
            mermaidDiv.innerHTML = '<span class="text-gray-500">Rendering...</span>';
            try {
                const { svg, bindFunctions } = await mermaid.render('mermaid-svg', mermaidInput);
                mermaidDiv.innerHTML = svg;
                if (bindFunctions) {
                    bindFunctions(mermaidDiv);
                }
            } catch (error) {
                console.error(error);
                mermaidDiv.innerHTML = '<span class="text-red-500">Error rendering diagram. Please check your syntax.</span>';
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            showMainTab('editor'); // Default to editor view as per new design
        });
    </script>
</body>
</html>